{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport caasy from '@caasy/sdk-js';\nimport Main from '../components/layout/main/Main';\nimport PostPreview from '../components/postPreview/PostPreview';\nimport PageControls from '../components/pageControls/PageControls';\nimport blogConfig from '../blogConfig';\nimport utils from '../utils/';\nimport { getAllPostIds, getPostData } from '../utils/getPosts';\nimport API_URL from \"../utils/http-utils\";\nimport ReactPaginate from 'react-paginate';\nimport Router, { withRouter } from 'next/router';\n/**\n * Displays all blog posts for a given page number.\n * @param posts {array} all blog posts for the given page\n * @param pageControls {array} contains the pages for the navigation\n * @param currentPage {number} number of the active page\n * @returns {*}\n * @constructor\n */\n\nconst Posts = ({\n  posts,\n  pageControls,\n  currentPage\n}) => __jsx(Main, null, console.log('$$$$', pageControls), (posts || []).map(post => __jsx(PostPreview, {\n  key: post.id,\n  id: post.id,\n  title: post.title,\n  previewText: post.text,\n  previewImage: post.image,\n  lastEdit: new Date(post.created_at).toDateString()\n})), __jsx(PageControls, {\n  data: pageControls,\n  active: currentPage\n}));\n\nexport default Posts;\nexport async function getStaticProps() {\n  try {\n    const res = await fetch(API_URL);\n    const posts = await res.json();\n    const pageControls = utils.getPages(10, 2, 1) || [];\n    const currentPage = 1;\n    return {\n      props: {\n        posts,\n        pageControls,\n        currentPage\n      }\n    };\n  } catch (e) {\n    console.log(e);\n  }\n}","map":null,"metadata":{},"sourceType":"module"}